(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),s=e.i(20755);async function o(){let e=(0,s.createClient)(),{data:{user:r},error:t}=await e.auth.getUser();if(t||!r)throw Error("User not authenticated");let{data:a,error:o}=await e.from("profiles").select("role").eq("id",r.id).single();return o||!a?(console.error("Error fetching profile or profile not found:",o),r.user_metadata?.role||"student"):a.role||"student"}function d(){let e=(0,a.useRouter)();return(0,t.useEffect)(()=>{(async()=>{try{switch((await o()).toLowerCase()){case"admin":e.push("/dashboard/admin");break;case"staff":e.push("/dashboard/staff");break;case"lead":e.push("/dashboard/lead");break;case"deputy":e.push("/dashboard/deputy");break;default:e.push("/dashboard/student")}}catch(r){console.error("Error checking user role:",r),e.push("/auth/login")}})()},[e]),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Redirecting to your dashboard..."})]})})}e.s(["default",()=>d])}]);